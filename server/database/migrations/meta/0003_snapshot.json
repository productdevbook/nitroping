{
  "id": "d85d102f-b6dd-420d-b2c7-17e7bcda8be0",
  "prevId": "e46f0a6b-28e7-412c-8455-c44dd6dab042",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.apiKey": {
      "name": "apiKey",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "appId": {
          "name": "appId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "lastUsedAt": {
          "name": "lastUsedAt",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "apiKey_appId_app_id_fk": {
          "name": "apiKey_appId_app_id_fk",
          "tableFrom": "apiKey",
          "tableTo": "app",
          "columnsFrom": [
            "appId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "apiKey_key_unique": {
          "name": "apiKey_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.app": {
      "name": "app",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "apiKey": {
          "name": "apiKey",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fcmServerKey": {
          "name": "fcmServerKey",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fcmProjectId": {
          "name": "fcmProjectId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "apnsCertificate": {
          "name": "apnsCertificate",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "apnsKeyId": {
          "name": "apnsKeyId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "apnsTeamId": {
          "name": "apnsTeamId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bundleId": {
          "name": "bundleId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vapidPublicKey": {
          "name": "vapidPublicKey",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vapidPrivateKey": {
          "name": "vapidPrivateKey",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vapidSubject": {
          "name": "vapidSubject",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "app_slug_unique": {
          "name": "app_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        },
        "app_apiKey_unique": {
          "name": "app_apiKey_unique",
          "nullsNotDistinct": false,
          "columns": [
            "apiKey"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.deliveryLog": {
      "name": "deliveryLog",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "notificationId": {
          "name": "notificationId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "deviceId": {
          "name": "deviceId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "delivery_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "providerResponse": {
          "name": "providerResponse",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "errorMessage": {
          "name": "errorMessage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attemptCount": {
          "name": "attemptCount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "sentAt": {
          "name": "sentAt",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deliveredAt": {
          "name": "deliveredAt",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "openedAt": {
          "name": "openedAt",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "clickedAt": {
          "name": "clickedAt",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "platform": {
          "name": "platform",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "userAgent": {
          "name": "userAgent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "appVersion": {
          "name": "appVersion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "osVersion": {
          "name": "osVersion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "deliveryLog_notificationId_notification_id_fk": {
          "name": "deliveryLog_notificationId_notification_id_fk",
          "tableFrom": "deliveryLog",
          "tableTo": "notification",
          "columnsFrom": [
            "notificationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "deliveryLog_deviceId_device_id_fk": {
          "name": "deliveryLog_deviceId_device_id_fk",
          "tableFrom": "deliveryLog",
          "tableTo": "device",
          "columnsFrom": [
            "deviceId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "deliveryLog_notificationId_deviceId_unique": {
          "name": "deliveryLog_notificationId_deviceId_unique",
          "nullsNotDistinct": false,
          "columns": [
            "notificationId",
            "deviceId"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device": {
      "name": "device",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "appId": {
          "name": "appId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "platform": {
          "name": "platform",
          "type": "platform",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "device_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'ACTIVE'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "lastSeenAt": {
          "name": "lastSeenAt",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "device_appId_app_id_fk": {
          "name": "device_appId_app_id_fk",
          "tableFrom": "device",
          "tableTo": "app",
          "columnsFrom": [
            "appId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification": {
      "name": "notification",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "appId": {
          "name": "appId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "badge": {
          "name": "badge",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sound": {
          "name": "sound",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "clickAction": {
          "name": "clickAction",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "icon": {
          "name": "icon",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "imageUrl": {
          "name": "imageUrl",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "targetDevices": {
          "name": "targetDevices",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "platforms": {
          "name": "platforms",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "scheduledAt": {
          "name": "scheduledAt",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "notification_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'PENDING'"
        },
        "totalTargets": {
          "name": "totalTargets",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "totalSent": {
          "name": "totalSent",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "totalDelivered": {
          "name": "totalDelivered",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "totalFailed": {
          "name": "totalFailed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "totalClicked": {
          "name": "totalClicked",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "sentAt": {
          "name": "sentAt",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notification_appId_app_id_fk": {
          "name": "notification_appId_app_id_fk",
          "tableFrom": "notification",
          "tableTo": "app",
          "columnsFrom": [
            "appId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.delivery_status": {
      "name": "delivery_status",
      "schema": "public",
      "values": [
        "PENDING",
        "SENT",
        "DELIVERED",
        "FAILED",
        "CLICKED"
      ]
    },
    "public.device_status": {
      "name": "device_status",
      "schema": "public",
      "values": [
        "ACTIVE",
        "INACTIVE",
        "EXPIRED"
      ]
    },
    "public.notification_status": {
      "name": "notification_status",
      "schema": "public",
      "values": [
        "PENDING",
        "SENT",
        "DELIVERED",
        "FAILED",
        "SCHEDULED"
      ]
    },
    "public.platform": {
      "name": "platform",
      "schema": "public",
      "values": [
        "IOS",
        "ANDROID",
        "WEB"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}